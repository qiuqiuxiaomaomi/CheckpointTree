# CheckpointTree
Mysql， zookeeper, redis等Checkpoint技术研究


<pre>
Checkpoint：
           如果重做日志可以无限地增大，同时缓冲池也足够大，那么是不需要将缓冲池中页的新版本
      刷新回磁盘。因为发生宕机时，完全可以通过重做日志来恢复整个数据库系统中的数据到宕机时
      发生的时刻。

      但是这需要两个前提条件：
          1）缓冲池可以缓存数据库中所有的数据
          2）重做日志可以无限大

      因此Checkpoint技术就诞生了，目的是解决以下几个问题：
          1）缩短数据库的恢复时间
          2）缓冲池不够用时，将脏页刷新到磁盘
          3）重做日志不可用时，刷新脏页。

          1）当数据库发生宕机时，数据库不需要重做所有的日志，因为Checkpoint之前的也都已经
             刷新回磁盘，数据库只要对Checkpoint后的重做日志进行恢复，这样就大大缩短了恢复时间。
          2）当缓冲池不够用时，根据LRU算法会溢出最近最少使用的页，若此页为脏页，那么需要强
             制执行Checkpoint，将脏页刷回磁盘。
          3）当重做日志出现不可用时，因为当前事务数据库系统对重做日志的设计都是循环使用的，
             并不是让其无限增大，重做日志可以被重用的部分是指这些重做日志已经不再需要，当
             数据库发生宕机时，数据库恢复操作不需要这部分的重做日志，因为这部分可以被覆盖
             使用，如果重做日志还需要使用，那么必须强制执行Checkpoint，将缓冲池中的页至少
             刷新到当前重做日志的位置。

</pre>